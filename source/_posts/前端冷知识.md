title: 前端冷知识
date: 2015-09-12 13:52:02
tags: 前端冷知识
---

更大家分享一些前端冷知识

<!--more-->


## HTML篇

### 1、浏览器地址栏运行JavaScript代码
```
javascript:alert('hello from address bar :)');
```
*需要注意的是如果是通过copy paste代码到浏览器地址栏的话，IE及Chrome会自动去掉代码开头的javascript:*

### 2、浏览器地址栏运行HTML代码(非IE内核)

```
data:text/html,<h1>Hello, world!</h1>
```

### 3、把浏览器当编辑器

主要利用`contenteditable`属性
在控制台输入
```
document.body.contentEditable='true';
```

### 4、利用a标签自动解析URL
先创建一个 a 标签然后将需要解析的URL赋值给 a 的 href 属性，然后就得到了一切我们想要的了
```
var a = document.createElement('a');
a.href = 'http://www.cnblogs.com/wayou/p/';
console.log(a.host);
```
一个更加健壮的解析URL各部分的通用方法:
```
function parseURL(url) {
    var a =  document.createElement('a');
    a.href = url;
    return {
        source: url,
        protocol: a.protocol.replace(':',''),
        host: a.hostname,
        port: a.port,
        query: a.search,
        params: (function(){
            var ret = {},
                seg = a.search.replace(/^\?/,'').split('&'),
                len = seg.length, i = 0, s;
            for (;i<len;i++) {
                if (!seg[i]) { continue; }
                s = seg[i].split('=');
                ret[s[0]] = s[1];
            }
            return ret;
        })(),
        file: (a.pathname.match(/\/([^\/?#]+)$/i) || [,''])[1],
        hash: a.hash.replace('#',''),
        path: a.pathname.replace(/^([^\/])/,'/$1'),
        relative: (a.href.match(/tps?:\/\/[^\/]+(.+)/) || [,''])[1],
        segments: a.pathname.replace(/^\//,'').split('/')
    };
}
```

### 5、页面拥有ID的元素会创建全局变量

在一张HTML页面中，所有设置了ID属性的元素会在JavaScript的执行环境中创建对应的全局变量

### 6、实时编辑CSS
通过设置style标签的 display:block 样式可以让页面的style标签显示出来，并且加上 contentEditable 属性后可以让样式成为可编辑状态，更改后的样式效果也是实时更新呈现的。
```
<!DOCTYPE html>
<html>
    <body>
        <style style="display:block" contentEditable>
        	body { color: blue }
        </style>
    </body>
</html>
```

### 7、创建长宽比固定的元素
通过设置父级窗口的 padding-bottom 可以达到让容器保持一定的长度比的目的，这在响应式页面设计中比较有用，能够保持元素不变形。

## JavaScript篇

### 8、生成随机字符串
利用了 toString 方法可以接收一个基数作为参数的原理，这个基数从2到36封顶。如果不指定，默认基数是10进制。
```
function generateRandomAlphaNum(len) {
    var rdmString = "";
    for (; rdmString.length < len; rdmString += Math.random().toString(36).substr(2));
    return rdmString.substr(0, len);
}
```

### 9、整数操作
JavaScript中是没有整型概念的，但利用好位操作符可以轻松处理，同时获得效率上的提升。
例如`|0`、`~~`、`~`、`>>`、`!!`等

### 10、关于console的恶作剧
```
var _log = console.log;
console.log = function() {
  _log.call(console, '%c' + [].slice.call(arguments).join(' '), 'color:transparent;text-shadow:0 0 2px rgba(0,0,0,.5);');
};
```

### 11、不声明第三个变量的值交换
不声明第三个变量，利用js的数组来交换
```
var a=1,b=2;a=[b,b=a][0];
```

### 12、用`console.table`在控制台输出表格
可用来输出json文件中的数据
```
var data = [
  {
    "name" : "ranger",
    "unlocked" : true,
    "prize" : 0
  },
  {
    "name" : "master",
    "unlocked" : false,
    "prize" : 200
  },
  {
    "name" : "monk",
    "unlocked" : false,
    "prize" : 200
  },
  {
    "name" : "wizard",
    "unlocked" : false,
    "prize" : 200
  }
];
console.table(data);
```

## 谢谢大家